(this.webpackJsonpsistemaphpreact=this.webpackJsonpsistemaphpreact||[]).push([[2],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),i=n.n(c),o=n(159),u=n(24),l=n(32),s=n(46),f=n(45),p=n(161),m=n(150),d=n(154),h=n(151),g=n(18),b=n(152),E=n(153),v=n(62),O=function e(){var t=this;Object(u.a)(this,e),this.service=new v.a,this.getMenus=function(){return t.service.getJson("/menu")},this.logout=function(){return t.service.getJson("/logout")}},y=n(73),x=n.n(y),w=n(77),T=n.n(w),S=n(79),M=n.n(S),j=n(78),k=n.n(j),A=r.a.memo((function(e){var t=e.icone;return r.a.createElement(r.a.Fragment,null,function(e){switch(e){case"home":return r.a.createElement(x.a,null);case"user":return r.a.createElement(T.a,null);case"settings":return r.a.createElement(k.a,null);default:return r.a.createElement(M.a,null)}}(t))})),N=n(36),_=n(28),C=function(e){Object(s.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).service=new O,e.toggleDrawer=function(t){e.context.dispatch({type:N.a.OPEN_MENU,payload:t,reducer:"MENU"})},e.pushMenu=function(t){"/"+t!==e.props.history.location.pathname&&(sessionStorage.setItem("_route",t),e.props.history.push(t))},e.componentDidMount=function(){e.service.getMenus().then((function(t){e.context.dispatch({type:N.a.SET_LIST_MENU,payload:t.Data,reducer:"MENU"}),setTimeout((function(){var t=sessionStorage.getItem("_route");t&&"/"!==t&&e.pushMenu(t)}),500)})).catch((function(e){return alert(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return 0===this.context.state.listMenu.length?null:r.a.createElement(p.a,{open:this.context.state.openMenu,onClose:function(){return e.toggleDrawer(!1)},onOpen:function(){return e.toggleDrawer(!0)}},r.a.createElement("div",{role:"presentation",style:{width:250,padding:10},onClick:function(){return e.toggleDrawer(!1)},onKeyDown:function(){return e.toggleDrawer(!1)}},r.a.createElement(m.a,null,this.context.state.listMenu.map((function(t){return r.a.createElement(h.a,{key:t.id,button:!0,onClick:function(){return e.pushMenu(t.route)}},r.a.createElement(b.a,null,r.a.createElement(A,{icone:t.icon})),r.a.createElement(E.a,{primary:t.text}))})),r.a.createElement(d.a,null))))}}]),n}(r.a.PureComponent);C.contextType=g.a;var P=Object(_.g)(C),I=n(155),U=n(156),D=n(53),L=n(157),J=n(81),z=n.n(J),G=n(82),H=n.n(G),R=r.a.memo((function(){var e=new O,t=r.a.useContext(g.a),n=r.a.useCallback((function(e){t.dispatch({type:"OPEN_MENU",payload:e,reducer:"MENU"})}),[t]);return r.a.createElement(I.a,{position:"fixed"},r.a.createElement(U.a,null,r.a.createElement(L.a,{onClick:function(){return n(!0)},edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(z.a,null)),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(D.a,{variant:"h6"},"PHP React"),r.a.createElement(L.a,{edge:"end",color:"inherit","aria-label":"menu",onClick:function(){e.logout().then((function(){}))}},r.a.createElement(H.a,null)))))})),X=n(87),F=function(e){var t=e.component,n=e.isAuthenticated,a=Object(X.a)(e,["component","isAuthenticated"]);return r.a.useMemo((function(){return r.a.createElement(_.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(_.a,{to:{pathname:"/",state:{from:e.location}}})}}))}),[n])},B=function(e){Object(s.a)(c,e);var t=Object(f.a)(c);function c(){var e;Object(u.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).auth=function(t){return e.context.state.listMenu.find((function(e){return e.route===t}))},e}return Object(l.a)(c,[{key:"render",value:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Carregando...")},r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",component:Object(a.lazy)((function(){return n.e(8).then(n.bind(null,225))}))}),r.a.createElement(F,{exact:!0,isAuthenticated:this.auth("usuarios"),path:"/usuarios",component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,223))}))}),r.a.createElement(F,{isAuthenticated:this.auth("clientes"),exact:!0,path:"/clientes",component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,222))}))}),r.a.createElement(F,{isAuthenticated:this.auth("perfil"),exact:!0,path:"/perfil",component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,224))}))}),r.a.createElement(_.b,{path:"*",exact:!0,component:Object(a.lazy)((function(){return n.e(9).then(n.bind(null,220))}))})))}}]),c}(r.a.PureComponent);B.contextType=g.a;var W=B,q=n(42),K=n(86),$=n(16),Q=n(34),V=n(111),Y=n(66),Z=n.n(Y),ee=n(158),te=n(48);function ne(){var e=Object(te.a)(["\n    z-index: 99999;\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    padding: 10px;\n    transform: rotate(180deg);\n    overflow-y: auto;\n    overflow-x: none;\n    ::-webkit-scrollbar{width: 0; height:0;}\n    transition: all 0.2s;\n\n    ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n        transform: rotate(180deg);\n\n        @keyframes animateIn {0%{transform:translateX(1000px);opacity:0}100%{transform:translateX(0);opacity:1}}\n        @keyframes slide-out-right{0%{transform:translateX(0);opacity:1}100%{transform:translateX(1000px);opacity:0;}}\n\n        .slide-out-right{animation:slide-out-right .3s cubic-bezier(.55,.085,.68,.53) both}\n\n        \n        li {\n            animation: animateIn .3s cubic-bezier(.25,.46,.45,.94) both;\n            user-select: none;\n\n            .custom-toast {\n                transition: all 0.3s;\n                cursor: default;\n                box-shadow: -2px 2px 4px 1px rgba(0, 0, 0, 0.37);\n                max-width: 350px;\n                padding: 10px;\n                margin: 5px 0;\n                display: flex;\n                align-items: center;\n\n                &:active {\n                    transform: scale(1.03);\n                }\n\n                .content {\n                    flex: 1;\n                }\n                .close{\n                    padding: 0;\n                    margin-left: 10px;\n                }\n            }\n        }\n       \n    }\n"]);return ne=function(){return e},e}var ae=n(49).a.div(ne()),re=n(39),ce=Object(ee.a)((function(e){return{success:{color:"#fff",background:e.palette.primary.main},warning:{color:"#fff",background:e.palette.warning.main},info:{color:"#fff",background:e.palette.info.main},danger:{color:"#fff",background:e.palette.secondary.main}}})),ie=r.a.memo((function(){var e=ce(),t=r.a.useContext(g.a),n=t.state,a=t.dispatch,c=r.a.useState([]),i=Object(Q.a)(c,2),o=i[0],u=i[1],l=r.a.useState(!1),s=Object(Q.a)(l,2),f=s[0],p=s[1],m=r.a.useState({id:"",count:0}),d=Object(Q.a)(m,2),h=d[0],b=d[1],E=function(e){u((function(t){return t.map((function(t,n){return t.id===e?Object($.a)({},t,{out:"slide-out-right"}):t}))})),setTimeout((function(){u((function(t){return t.filter((function(t){return t.id!==e}))}))}),1500)},v=r.a.useCallback((function(){a(Object(re.b)("success",""))}),[a]);return r.a.useEffect((function(){n.TOAST.message&&(u((function(e){return[].concat(Object(K.a)(e),[{message:n.TOAST.message,type:n.TOAST.type,out:"",id:String((new Date).getTime())}])})),v())}),[n.TOAST,v]),o.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null,r.a.createElement("ul",null,o.map((function(t){return r.a.createElement("li",{key:t.id,onClick:function(){return e=t.id,void(h.id!==e||1!==h.count?(b({id:e,count:h.count+1}),p(!0),setTimeout((function(){b({id:"",count:0}),p(!1)}),1500)):E(e));var e}},r.a.createElement(V.a,{className:"custom-toast "+e[t.type]+" ".concat(t.out)},r.a.createElement("div",{className:"content"},r.a.createElement(D.a,null,t.message),f&&h.id===t.id&&r.a.createElement("small",null,"Clique novamente para remover")),r.a.createElement("div",null,r.a.createElement(L.a,{className:"close",onClick:function(){return E(t.id)}},r.a.createElement(Z.a,{style:{color:"#fff"}})))))}))))):null})),oe=n(56),ue=r.a.memo((function(){return Object(a.useMemo)((function(){return r.a.createElement(q.a,null,r.a.createElement(o.a,null),r.a.createElement(oe.b,null),r.a.createElement(R,null),r.a.createElement(P,null),r.a.createElement(oe.a,{pt:75},r.a.createElement(W,null)),r.a.createElement(ie,null))}),[])}));i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,null,r.a.createElement(ue,null))),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(34),r=n(16),c=n(0),i=n.n(c),o=n(36),u=n(39),l={id:""},s={INITIAL_STATE:l,ACTIONS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LOGADO:l},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGADO":var n=Object(r.a)({},e.LOGADO,{},t.payload);return{taxas:n};default:return e}}},f=Object(r.a)({},o.b.initialState,{},u.a.initialState,{LOGADO:s.INITIAL_STATE}),p={MENU:o.b.MENU,TOAST:u.a.TOAST,LOGADO:s.ACTIONS},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=Object.keys(p);if(n.find((function(e){return e===t.reducer})))return p[t.reducer](e,t)},d=i.a.createContext({state:f,dispatch:m}),h=function(e){var t=i.a.useReducer(m,f),n=Object(a.a)(t,2),r=n[0],c=n[1];return i.a.createElement(d.Provider,{value:{state:r,dispatch:c}},e.children)}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(16),r={OPEN_MENU:"OPEN_MENU",SET_LIST_MENU:"SET_LIST_MENU"},c={initialState:{openMenu:!1,listMenu:[]},MENU:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.initialState,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MENU":return Object(a.a)({},e,{openMenu:t.payload});case"SET_LIST_MENU":return Object(a.a)({},e,{listMenu:t.payload});default:return e}}}},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a=n(16),r="SHOW_TOAST",c=function(e,t){return{type:"SHOW_TOAST",payload:{type:e,message:t},reducer:"TOAST"}},i={initialState:{TOAST:{type:"success",message:""}},TOAST:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.initialState,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(a.a)({},e,{TOAST:t.payload});default:return e}}}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(48),r=n(113),c=n(5),i=n(49);function o(){var e=Object(a.a)(["\n    width: 100%;\n    padding: 70px 70px 20px 70px;\n\n    @media only screen and (max-width: 600px){\n        padding: 74px 10px 20px 10px;\n        ","; \n    }\n\n    ",";\n"]);return o=function(){return e},e}var u=Object(c.a)((function(e){return{"@global":{"::-webkit-scrollbar":{width:"7px",background:e.palette.secondary.main},"::-webkit-scrollbar-track":{background:e.palette.background.default},"::-webkit-scrollbar-thumb":{background:e.palette.primary.main},"::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.dark}}}}))((function(){return null})),l=Object(i.a)(r.a)(o(),(function(e){return"padding-top: ".concat(e.pt||0,"px;")}),(function(e){return"padding-top: ".concat(e.pt||0,"px;")}))},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(54),r=n.n(a),c=n(60),i=n(24),o=n(32),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),l="localhost"===window.location.hostname,s=function(){function e(){Object(i.a)(this,e),this.baseURL=l?"http://localhost:9001/backEnd":"/seusite/api",this.genericMessage="Houve um erro, se persistir, por favor, contate o suporte."}return Object(o.a)(e,[{key:"_fetchApi",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.baseURL+n,{method:t,body:a});case 3:return c=e.sent,e.next=6,c.json();case 6:return(i=e.sent).expired&&window.location.replace(window.location.origin+"/seusite"),e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(0),u&&(console.log("Erro em _fetchApi()"),console.log(e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getJson",value:function(e){var t=this;return new Promise((function(n,a){t._fetchApi("GET",e).then((function(e){return e.Success?n(e):a(e.Message||t.genericMessage)})).catch((function(){return a(t.genericMessage)}))}))}},{key:"deleTe",value:function(e){var t=this;return new Promise((function(n,a){t._fetchApi("DELETE",e).then((function(e){return e.Success?n(e):a(e.Message||t.genericMessage)})).catch((function(){return a(t.genericMessage)}))}))}},{key:"postJson",value:function(e,t){var n=this;return new Promise((function(a,r){n._fetchApi("POST",e,JSON.stringify(t)).then((function(e){return e.Success?a(e):r(e.Message||n.genericMessage)})).catch((function(){return r(n.genericMessage)}))}))}},{key:"putJson",value:function(e,t){var n=this;return new Promise((function(a,r){n._fetchApi("PUT",e,JSON.stringify(t)).then((function(e){return e.Success?a(e):r(e.Message||n.genericMessage)})).catch((function(){return r(n.genericMessage)}))}))}}]),e}()},98:function(e,t,n){e.exports=n(110)}},[[98,3,4]]]);