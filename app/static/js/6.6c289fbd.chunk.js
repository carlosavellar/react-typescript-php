(this.webpackJsonpsistemaphpreact=this.webpackJsonpsistemaphpreact||[]).push([[6],{162:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},165:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(158),o=a(226),l=a(205),c=a(155),s=a(156),u=a(157),m=a(53),d=a(66),p=a.n(d),f=a(113),b=Object(i.a)((function(e){return Object(o.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})}));t.a=function(e){var t=b();return r.a.createElement(l.a,{fullScreen:!0,open:e.open},r.a.createElement(c.a,{className:t.appBar},r.a.createElement(s.a,null,r.a.createElement(u.a,{edge:"start",color:"inherit",onClick:function(){e.close()},"aria-label":"close"},r.a.createElement(p.a,null)),r.a.createElement(m.a,{variant:"h6",className:t.title},e.title))),r.a.createElement(f.a,{container:!0,style:{padding:"24px"}},e.open?e.children:null))}},166:function(e,t,a){"use strict";var n=a(16),r=a(34),i=a(48),o=a(0),l=a.n(o),c=a(5),s=a(226),u=a(158),m=a(216),d=a(217),p=a(212),f=a(215),b=a(214),v=a(213),h=a(111),g=a(219),E=a(227),y=a(207),j=a(205),O=a(211),U=a(209),k=a(210),x=a(208),S=l.a.memo((function(e){return l.a.createElement(j.a,{open:e.open,onClose:function(){e.cancel()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(x.a,{id:"alert-dialog-title"},e.title||""),l.a.createElement(U.a,null,l.a.createElement(k.a,{id:"alert-dialog-description"},e.msgConfirm||"")),l.a.createElement(O.a,null,l.a.createElement(y.a,{onClick:function(){e.cancel()},color:"primary"},e.btnCancel||"N\xe3o"),l.a.createElement(y.a,{onClick:function(){e.confirm()},color:"primary",autoFocus:!0},e.btnConfirma||"Confirma")))})),C=a(173),w=a.n(C),M=a(49),T=a(218);function z(){var e=Object(i.a)(["\n    ",";\n"]);return z=function(){return e},e}var V=M.a.div(z(),(function(e){return e.noWrap?"white-space: nowrap":""})),L=Object(c.a)((function(e){return Object(s.a)({head:{color:e.palette.common.white},body:{fontSize:14}})}))(p.a),D=Object(c.a)((function(e){return Object(s.a)({root:{backgroundColor:e.palette.background.default}})}))(v.a),F=Object(c.a)((function(e){return Object(s.a)({root:{backgroundColor:e.palette.primary.main}})}))(b.a),N=Object(c.a)((function(e){return Object(s.a)({root:{backgroundColor:e.palette.primary.main}})}))(v.a),W=Object(u.a)((function(e){return{table:{minWidth:700,backgroundColor:e.palette.primary.main}}})),q=l.a.memo((function(e){var t=e.header,a=e.body,i=e.action,o=e.isLoading,c=W(),s=l.a.useState(null),u=Object(r.a)(s,2),p=u[0],b=u[1],v=l.a.useState(!1),y=Object(r.a)(v,2),j=y[0],O=y[1],U=l.a.useState(),k=Object(r.a)(U,2),x=k[0],C=k[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{component:h.a},l.a.createElement(m.a,{className:c.table,"aria-label":"TableContainer"},l.a.createElement(F,null,l.a.createElement(N,null,t.map((function(e){return l.a.createElement(L,{key:e.Key},e.Value)})))),l.a.createElement(d.a,null,a.length<1&&l.a.createElement(D,null,l.a.createElement(L,{colSpan:12,align:"center"},o?l.a.createElement(T.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,null),l.a.createElement("br",null),"Vazio por enquanto."))),a.length>0&&a.map((function(e,a){return l.a.createElement(D,{key:a},t.map((function(t){return l.a.createElement(L,{key:t.Key,align:"left"},l.a.createElement(V,{noWrap:t.noWrap},e[t.Key]))})),l.a.createElement(L,{align:"right"},i&&i.map((function(t,a){return l.a.createElement(E.a,{key:a,title:t.titulo,style:{margin:1}},l.a.createElement(g.a,{color:t.iconeColor||"primary",size:"small",onClick:function(){if(!t.DialogAction)return t.emmit&&t.emmit(e);b(Object(n.a)({},t.DialogAction)),C({fn:t.emmit,item:e}),O(!0)}},t.icone))}))))}))))),j&&l.a.createElement(S,{btnConfirma:(null===p||void 0===p?void 0:p.btnConfirma)||"",btnCancel:(null===p||void 0===p?void 0:p.btnCancel)||"",title:(null===p||void 0===p?void 0:p.title)||"",type:(null===p||void 0===p?void 0:p.type)||"success",msgConfirm:(null===p||void 0===p?void 0:p.msgConfirm)||"",open:j,cancel:function(){return O(!1)},confirm:function(){null===x||void 0===x||x.fn(null===x||void 0===x?void 0:x.item),O(!1)}}))}));t.a=q},193:function(e,t,a){"use strict";var n=a(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(29)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.default=i},223:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(54),i=a.n(r),o=a(60),l=a(24),c=a(32),s=a(46),u=a(45),m=a(0),d=a.n(m),p=a(219),f=a(175),b=a.n(f),v=a(165),h=a(61),g=a(221),E=a(111),y=a(113),j=a(207),O=a(62),U=function(){function e(){Object(l.a)(this,e),this.service=new O.a}return Object(c.a)(e,[{key:"getUsers",value:function(){return this.service.getJson("/users")}},{key:"newUser",value:function(e){return this.service.postJson("/users",e)}},{key:"updateUser",value:function(e){return this.service.putJson("/users/"+e.id,e)}},{key:"delUser",value:function(e){return this.service.deleTe("/users/"+e)}}]),e}(),k=a(162),x=a(18),S=a(39),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).service=new U,r.submitValues=Object(o.a)(i.a.mark((function e(){var t,a,o,l,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,a=t.nome,o=t.empresa,l=t.email,c=t.password,Object(k.a)(l)){e.next=4;break}return r.setState({inputError:!0}),e.abrupt("return");case 4:if(a){e.next=6;break}return e.abrupt("return");case 6:if(o){e.next=8;break}return e.abrupt("return");case 8:if(r.props.UsuarioSelecionado||c){e.next=10;break}return e.abrupt("return");case 10:if(e.prev=10,!r.props.UsuarioSelecionado){e.next=17;break}return e.next=14,r.service.updateUser(Object(n.a)({},r.state,{id:r.props.UsuarioSelecionado.id}));case 14:s=e.sent,e.next=20;break;case 17:return e.next=19,r.service.newUser(r.state);case 19:s=e.sent;case 20:r.context.dispatch(Object(S.b)("success",s.Message)),r.props.success({id:"",email:l,nivel:"",empresa:o,nome:a}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),r.context.dispatch(Object(S.b)("danger",e.t0));case 27:case"end":return e.stop()}}),e,null,[[10,24]])}))),r.setField=function(e){return function(t){r.setState(Object(n.a)({},r.state,Object(h.a)({},e,t.target.value)))}},r.componentDidMount=function(){if(r.props.UsuarioSelecionado){var e=r.props.UsuarioSelecionado,t=e.email,a=e.empresa,n=e.nome;r.setState({nome:n,empresa:a,email:t})}},r.state={nome:"",empresa:"",email:"",password:"",inputError:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.nome,a=e.empresa,n=e.email,r=e.password,i=e.inputError;return d.a.createElement(E.a,{style:{padding:20,width:"100%"}},d.a.createElement("form",{noValidate:!0,autoComplete:"off",style:{width:"100%"},onSubmit:this.submitValues},d.a.createElement(y.a,{container:!0,spacing:2},d.a.createElement(y.a,{item:!0,lg:6,md:6,sm:12,xs:12},d.a.createElement(g.a,{error:i&&!t.trim(),required:!0,helperText:i&&!t.trim()&&"Nome \xe9 obrigat\xf3rio",fullWidth:!0,label:"Nome",value:this.state.nome,onChange:this.setField("nome")})),d.a.createElement(y.a,{item:!0,lg:6,md:6,sm:12,xs:12},d.a.createElement(g.a,{fullWidth:!0,error:i&&!a.trim(),required:!0,helperText:i&&!a.trim()&&"Empresa \xe9 obrigat\xf3rio",label:"Empresa",value:this.state.empresa,onChange:this.setField("empresa")})),d.a.createElement(y.a,{item:!0,lg:6,md:6,sm:12,xs:12},d.a.createElement(g.a,{fullWidth:!0,label:"Email",error:i&&!Object(k.a)(n),required:!0,helperText:i&&!Object(k.a)(n)&&"Insira um e-mail v\xe1lido",value:this.state.email,onChange:this.setField("email")})),d.a.createElement(y.a,{item:!0,lg:6,md:6,sm:12,xs:12},d.a.createElement(g.a,{error:!this.props.UsuarioSelecionado&&i&&!r.trim(),required:!this.props.UsuarioSelecionado&&!0,helperText:!this.props.UsuarioSelecionado&&i&&!r.trim()&&"Senha \xe9 obrigat\xf3rio",fullWidth:!0,label:"Senha",value:this.state.password,onChange:this.setField("password")}))),d.a.createElement(j.a,{size:"large",style:{marginTop:20},variant:"contained",color:"primary",onClick:this.submitValues},this.props.UsuarioSelecionado?"Atualizar":"Registrar")))}}]),a}(d.a.PureComponent);C.contextType=x.a;var w=C,M=a(166),T=a(174),z=a.n(T),V=a(193),L=a.n(V),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).service=new U,n.isLoading=!0,n.getUsers=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.service.getUsers();case 3:t=e.sent,n.setState({Usuarios:t.Data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.context.dispatch(Object(S.b)("danger",e.t0));case 10:return e.prev=10,n.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])}))),n.deleteUser=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.id){e.next=7;break}return e.next=4,n.service.delUser(t.id);case 4:a=e.sent,n.setState({Usuarios:n.state.Usuarios.filter((function(e){return e.id!==t.id}))}),n.context.dispatch(Object(S.b)("info",a.Message));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.context.dispatch(Object(S.b)("danger",e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.getUsers()},n.state={openModal:!1,Usuarios:[],ModalTitle:"",UsuarioSelecionado:void 0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement(y.a,{container:!0,style:{paddingBottom:30}},d.a.createElement(M.a,{isLoading:this.isLoading,header:[{Key:"nome",Value:"Nome"},{Key:"empresa",Value:"Empresa"},{Key:"email",Value:"E-mail"}],body:this.state.Usuarios,action:[{titulo:"Detalhes",icone:d.a.createElement(z.a,null),emmit:function(t){e.setState({openModal:!0,ModalTitle:t.nome,UsuarioSelecionado:t})}},{titulo:"Deletar",icone:d.a.createElement(L.a,null),iconeColor:"secondary",emmit:function(t){e.deleteUser(t)},DialogAction:{title:"Tem certeza que quer deletar?",type:"danger"}}]}),d.a.createElement(v.a,{open:this.state.openModal,close:function(){e.setState({openModal:!1,ModalTitle:"",UsuarioSelecionado:void 0})},title:this.state.ModalTitle},d.a.createElement(w,{UsuarioSelecionado:this.state.UsuarioSelecionado,success:function(t){if(e.state.UsuarioSelecionado){var a=e.state.UsuarioSelecionado;e.setState({openModal:!1,Usuarios:e.state.Usuarios.map((function(e){return e.id===(null===a||void 0===a?void 0:a.id)?Object(n.a)({},e,{email:t.email,empresa:t.empresa,nome:t.nome}):e})),UsuarioSelecionado:void 0})}else e.getUsers(),e.setState({openModal:!1})}})),d.a.createElement(p.a,{onClick:function(){e.setState({openModal:!0,ModalTitle:"Novo usu\xe1rio"})},color:"secondary","aria-label":"add",style:{position:"fixed",zIndex:1,bottom:10,left:10,margin:"0 auto"}},d.a.createElement(b.a,null)))}}]),a}(d.a.PureComponent);D.contextType=x.a;var F=D;t.default=F}}]);